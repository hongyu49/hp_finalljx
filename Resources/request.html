<html>
    <head>
		<script src="resource://localhost/cherry.js"></script>
    </head>
    <body>
        <b>abc</b>
		<input type="button" value="digihome" onClick="godigihome()"></input>
		<input type="button" value="webViewPop" onClick="popSence()"></input>
        <script type="text/javascript">
		var SERVER_BASE_URL="http://mobile.sugon.com/view/Resources";
	cherry.bridge.registerEvent("approveButton", "touchUp", function(oper) {
	var sceneURL = SERVER_BASE_URL+"/PureWeb.scene.xml";
	var targetURL = SERVER_BASE_URL+"/index.html?abc=100";
	
	var pushScene = new cherry.bridge.NativeOperation("application", "pushScene", [sceneURL, targetURL]).dispatch();
	cherry.bridge.flushOperations();
});

cherry.bridge.registerEvent("rejectButton", "touchUp", function(oper) {
	//var sceneURL = SERVER_BASE_URL+"/PureWeb.scene.xml";
	var targetURL = "http://mobile.sugon.com/view/digilogin.html?tag="+(Math.random())*1000;
	changePageWithBridge(targetURL);

});

function godigihome(){
	var sceneURL = SERVER_BASE_URL+"/digihome.xml";
	var targetURL = "http://mobile.sugon.com/view/digihome.html";
	changePageWithBridge(targetURL);
}

function popSence(){
	var sceneURL = SERVER_BASE_URL+"/digihome.xml";
	var targetURL = "http://mobile.sugon.com/view/Resources/popEvent.html";
	
	changePageBackWithBridge(targetURL,sceneURL)
}
/*
  ??component ????
  para:targetUrl ??????url
  componetXmlUrl:native??url????resources/?web??url
  ???cherry.js
*/
function changePageWithBridge(targetUrl,componetXmlUrl){
	var serverUrl="http://mobile.sugon.com";
	if(commentXmlUrl==="undefined"){
			componetXmlUrl=serverUrl+"/view/Resources/PureWeb.scene.xml";
			
	}
	var pushScene = new cherry.bridge.NativeOperation("application", "pushScene", [componetXmlUrl,targetUrl]);
	pushScene.dispatch();
	cherry.bridge.flushOperations();
		
}
/*
  ??component ??????????????
  para:targetUrl ??????url
  componetXmlUrl:native??url????resources/?web??url
  ???cherry.js
*/
function changePageBackWithBridge(targetUrl,componetXmlUrl){
	var serverUrl="http://mobile.sugon.com";
	if(commentXmlUrl==="undefined"){
			componetXmlUrl=serverUrl+"/view/Resources/PureWeb.scene.xml";
			
	}
	var popScene = new cherry.bridge.NativeOperation("application", "popScene", [componetXmlUrl,targetUrl]);
	popScene.dispatch();
	cherry.bridge.flushOperations();
		
}
        </script>
    </body>
</html>
